

# Generate report
 report = xcov.produce_report(
   scheme: 'iOS Test',
   minimum_coverage_percentage: 85.0,
   ignore_file_path: '.xcovignore'
 )


# Post warning message
coverage = (report.coverage * 100).round(2)
if coverage < 85.0
  difference = (85.0 - coverage).round(2)
  warn "Coverage is decreasing by #{difference}. New coverage: #{coverage}%, Previous coverage: #{85}%"
end

# For more information on how this works and how to display an error
# instead of a warning and fail the PR, please check:
# https://confluence.deliveryhero.com/x/XQb6Fg